{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>provider</title>
    <!-- Font Awesome JS -->
    <!-- font-awesome -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <script src="{% static "/js/jquery-3.5.1.js" %}"></script>
    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
        integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="{% static "/css/provider.css" %}">
    <link rel="stylesheet" href="{% static "/css/videoplayer.css" %}">
</head>

<body>

    <div class="main__section">
        <div class="row">
            <div class="col-lg-2">
                <div class="wrapper ">
                    <!-- Sidebar  -->
                    <nav id="sidebar">
                        <div class="sidebar-header">
                            <h3>Provider</h3>
                        </div>
                        <ul class="list-unstyled components" id="side-collapse">
                            <li>
                                <div class="list-group" id="list-tab" role="tablist">
                                    <a class="special active" id="list-home-list" data-toggle="list" href="#list-home"
                                        role="tab" aria-controls="home">Home</a>
                                </div>
                            </li>
                            <li>
                                <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false"
                                    class="dropdown-toggle">Add content</a>
                                <ul class="collapse list-unstyled list-group" id="homeSubmenu" role="tablist">
                                    <li>
                                        <a class="special" id="list-movie-list" data-toggle="list" href="#list-movie"
                                            role="tab" aria-controls="movie">Movies</a>
                                    </li>
                                    <li>
                                        <a class="special" id="list-series-list" data-toggle="list" href="#list-series"
                                            role="tab" aria-controls="series">series</a>
                                    </li>
                                </ul>
                            </li>
                            <!-- Added Content  -->
                            <li>
                                <a href="#addedContentSubmenu" data-toggle="collapse" aria-expanded="false"
                                    class="dropdown-toggle">Added content</a>
                                <ul class="collapse list-unstyled list-group" id="addedContentSubmenu" role="tablist">
                                    <li>
                                        <a class="special" id="list-added-movie-list" data-toggle="list"
                                            href="#list-added-movie" role="tab" aria-controls="movie">Movies</a>
                                    </li>
                                    <li>
                                        <a class="special" id="list-added-series-list" data-toggle="list"
                                            href="#list-added-series" role="tab" aria-controls="series">Series</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false"
                                    class="dropdown-toggle">Rejected content</a>
                                <ul class="collapse list-unstyled list-group" id="pageSubmenu" role="tablist">
                                    <li>
                                        <a class="special" id="list-settings-list" data-toggle="list"
                                            href="#list-settings" role="tab" aria-controls="settings">Rejected
                                            content</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
            <div class="col-lg-8 col-md-8 media-full">
                <!-- content  to be displayed on the middle of the page-->
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="list-home" role="tabpanel"
                        aria-labelledby="list-home-list">
                        <div class="row">
                            <div class="col-lg-9 col-md-9 media-home">
                                <div id="section1">
                                    <h4>section1</h4>
                                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Est molestiae error
                                        ipsam
                                        asperiores pariatur animi? Optio, dolorem. Pariatur ducimus cupiditate sapiente
                                        dolor praesentium. Dolorem sequi animi earum, iusto dolor laborum.</p>
                                </div>
                                <div id="section2">
                                    <h4>section2</h4>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Mollitia provident,
                                        repellendus accusantium odit est temporibus laborum hic error nisi earum saepe
                                        alias
                                        esse eum optio magnam, totam quidem quisquam corporis!</p>
                                </div>
                                <div id="section3">
                                    <h4>section3</h4>
                                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Atque adipisci excepturi
                                        sequi asperiores architecto ex sit ad nisi quibusdam pariatur similique dolorum
                                        quasi dolores debitis odio et, nam magnam amet?</p>
                                </div>
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-2">
                                <div class="fix">
                                    <ul>
                                        <li>
                                            <a href="#section1">section1</a>
                                        </li>
                                        <li>
                                            <a href="#section2">section2</a>
                                        </li>
                                        <li>
                                            <a href="#section3">section3</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- add movie -->
                    <div class="tab-pane fade" id="list-movie" role="tabpanel" aria-labelledby="list-movie-list">
                        {% include "provider/movieform.html" %}
                    </div>
                    <!-- add series -->
                    <div class="tab-pane fade" id="list-series" role="tabpanel" aria-labelledby="list-series-list">
                        <div class="series__form">
                            <!-- <div class="row"> -->
                            <!-- <div class="row"> -->
                            <div class="list-group flex-md-row" id="list-series-tab" role="tablist">
                                <a class="list-group-item list-group-item-action active mx-5 text-center"
                                    id="list-seriesform-list" data-toggle="list" href="#list-seriesform" role="tab"
                                    aria-controls="seriesform">Series Form</a>
                                <a class="list-group-item list-group-item-action mx-5 text-center"
                                    id="list-seriesinfo-list" data-toggle="list" href="#list-seriesinfo" role="tab"
                                    aria-controls="next">Add Season</a>
                                <a class="list-group-item list-group-item-action mx-5 text-center"
                                    id="list-seasoninfo-list" data-toggle="list" href="#list-seasoninfo" role="tab"
                                    aria-controls="next">Add Episodes</a>
                            </div>
                            <!-- </div> -->
                            <!-- <div class="row"> -->
                            <div class="tab-content my-5" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="list-seriesform" role="tabpanel"
                                    aria-labelledby="list-home-list">
                                    <div class="series__info my-5">
                                        <h4 class="padding-adder my-5">Series Form</h4>
                                        <!-- series-form  -->

                                        <form id="seriesForm">
                                            <!-- series-name  -->

                                            <div class="form-group my-4">
                                                <div class="row pado">
                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                        <label class="mt-2" for="name">Series Name</label>
                                                    </div>
                                                    <div class="col-lg-6 col-md-9 col-sm-9">
                                                        <input type="text" name="series-name" class="form-control"
                                                            id="series_name" placeholder="Enter series name" required />
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- series-description  -->

                                            <div class="form-group my-4">
                                                <div class="row pado">
                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                        <label class="mt-2" for="series__description">Series
                                                            description</label>
                                                    </div>
                                                    <div class="col-lg-6 col-md-9 col-sm-9">
                                                        <textarea class="form-control" name="series-description"
                                                            id="series__description" rows="3" required></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- languages  -->

                                            <div class="form-group my-4">
                                                <div class="row pado">
                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                        <label class="mt-2">Languages</label>
                                                    </div>
                                                    <div class="col-lg-6 col-md-9 col-sm-9">
                                                        <select id="language" name="language" class="custom-select">
                                                            <option selected>Languages</option>
                                                            <option value="Bengali">Bengali</option>
                                                            <option value="English">English</option>
                                                            <option value="Hindi">Hindi</option>
                                                            <option value="Kannada">Kannada</option>
                                                            <option value="Malayalam">Malayalam</option>
                                                            <option value="Marathi">Marathi</option>
                                                            <option value="Tamil">Tamil</option>
                                                            <option value="Telugu">Telugu</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- categories and their subcategories  -->

                                            <div class="form-group my-4">
                                                <div class="row pado">
                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                        <label class="mt-2">Categories</label>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                        <div class="row">
                                                            <div class="col-lg-8 col-md-8 col-sm-8">
                                                                <select id="series-category" name="series-category"
                                                                    class="custom-select">
                                                                    <option selected>Choose Category</option>
                                                                    <option value="Sports">Sports</option>
                                                                    <option value="Entertainment">Entertainment</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-4 col-md-4 col-sm-4 mx-1 my-3 ws-sports">
                                                                <select id="sports-subcategory"
                                                                    name="sports-subcategory" class="custom-select">
                                                                    <option selected>Subcategory</option>
                                                                    <option value="Cricket">Cricket</option>
                                                                    <option value="Football">Football</option>
                                                                    <option value="Tennis">Tennis</option>
                                                                    <option value="Martial Arts">Martial Arts</option>
                                                                    <option value="eSports">eSports</option>
                                                                    <option value="Hockey">Hockey</option>
                                                                    <option value="Badminton">Badminton</option>
                                                                    <option value="Wrestling">Wrestling</option>
                                                                    <option value="Kabbadi">Kabbadi</option>
                                                                    <option value="Table Tennis">Table Tennis</option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-4 col-md-4 col-sm-4 mx-1 my-3 ws-entmnt">
                                                                <div class="btn-group dropdown">
                                                                    <button class="btn btn-light-outline" type="button"
                                                                        id="dropdownMenuButton" data-toggle="dropdown"
                                                                        aria-haspopup="true" aria-expanded="false">
                                                                        Subcategory
                                                                    </button>
                                                                    <div class="dropdown-menu"
                                                                        aria-labelledby="dropdownMenuButton">
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Action" value="Action">
                                                                            <label for="action">Action</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Adventure" value="Adventure">
                                                                            <label for="adventure">Adventure</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Animation" value="Animation">
                                                                            <label for="animation">Animation</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Comedy" value="Comedy">
                                                                            <label for="comedy">Comedy</label>
                                                                        </div>


                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Crime" value="Crime">
                                                                            <label for="crime">Crime</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Drama" value="Drama">
                                                                            <label for="drama">Drama</label>
                                                                        </div>

                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Horror" value="Horror">
                                                                            <label for="horror">Horror</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Romance" value="Romance">
                                                                            <label for="romance">Romance</label>
                                                                        </div>
                                                                        <div class="dropdown-item">
                                                                            <input type="checkbox" id="chkbx"
                                                                                name="Thriller" value="Thriller">
                                                                            <label for="thriller">Thriller</label>
                                                                        </div>
                                                                        <div class="dropdown-divider"></div>
                                                                        <button type="button" id="savech"
                                                                            class="btn btn-primary">Save</button>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-lg-4 col-md-4 col-sm-4 mx-1 my-3 ws-txt">
                                                                <textarea class="form-control"
                                                                    name="subcategory-choosen" id="subcategory__choosen"
                                                                    rows="1" disabled aria-required="true"></textarea>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <!-- series-thumbnail  -->

                                            <div class="form-group my-4">
                                                <div class="row pado">
                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                        <label class="mt-2">Upload Thumbnail</label>
                                                    </div>
                                                    <div class="col-lg-6 col-md-9 col-sm-9">
                                                        <input id="file" type='file' class="form-control"
                                                            name='series-image' accept='.png, .jpg, .jpeg' required>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="padding-adder">
                                                <button type="submit" id="series-submit"
                                                    class="btn btn-primary my-4">Submit</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="list-seriesinfo" role="tabpanel"
                                    aria-labelledby="list-seriesinfo-list">
                                    <div class="season__info">
                                        <!-- info about series  -->
                                        <div id="server-series-result">

                                        </div>
                                        <!-- add new season  -->

                                        <div class="add__season">
                                            <p id="series_id" hidden></p>
                                            <div class="row">
                                                <div class="media-season">
                                                    <button class="btn btn-primary" type="button" data-toggle="collapse"
                                                        data-target="#collapseExample" aria-expanded="false"
                                                        aria-controls="collapseExample">
                                                        Add season
                                                    </button>
                                                    <div class="collapse" id="collapseExample">
                                                        <div class="card card-body">
                                                            <!-- add season form  -->

                                                            <form id="seasonForm">
                                                                <!-- add series season -->
                                                                <!-- season no  -->

                                                                <div class="form-group my-4">
                                                                    <div class="row pado">
                                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                                            <label class="mt-2">Season No</label>
                                                                        </div>
                                                                        <div class="col-lg-9 col-md-9 col-sm-9">
                                                                            <input type="text" readonly
                                                                                name="series-season-no"
                                                                                class="form-control-plaintext"
                                                                                id="seasonvalue" value="1">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- season description  -->

                                                                <div class="form-group my-4">
                                                                    <div class="row pado">
                                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                                            <label for="series__season__description"
                                                                                class="mt-2">Season
                                                                                description</label>
                                                                        </div>
                                                                        <div class="col-lg-9 col-md-9 col-sm-9">
                                                                            <textarea class="form-control"
                                                                                name="series-season-description"
                                                                                id="series__season__description"
                                                                                rows="3" required></textarea>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- season thumbnail  -->

                                                                <div class="form-group my-4">
                                                                    <div class="row pado">
                                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                                            <label class="mt-2">Upload Thumbnail</label>
                                                                        </div>
                                                                        <div class="col-lg-9 col-md-9 col-sm-9">
                                                                            <input id="file1" type='file'
                                                                                class="form-control" name='season-image'
                                                                                accept='.png, .jpg, .jpeg' required>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="text-center">
                                                                    <button type="submit" id="season-submit"
                                                                        class="btn btn-primary my-4">Submit</button>
                                                                </div>

                                                            </form>
                                                        </div>
                                                    </div>
                                                    <!-- added seasons section -->
                                                    <div id="apnd">
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="list-seasoninfo" role="tabpanel"
                                    aria-labelledby="list-seasoninfo-list">
                                    <div class="episode__info">
                                        <div id="server-result">
                                        </div>
                                        <div class="row">
                                            <!-- add season videos  -->

                                            <div class="add__season__videos">
                                                <p id="series_season_id" hidden></p>

                                                <button class="btn btn-primary" type="button" data-toggle="collapse"
                                                    data-target="#free-content" aria-expanded="false"
                                                    aria-controls="free-content">
                                                    Add Free Content
                                                </button>
                                                <div class="collapse" id="free-content">
                                                    <div class="card card-body">
                                                        <!-- add season videos -->
                                                        <!-- adding free content form  -->

                                                        <form id="freecontentForm">
                                                            <!-- free content no  -->

                                                            <!-- <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__contentno">
                                                                            Episode No
                                                                        </label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="text" readonly
                                                                            name="series-season-contentno"
                                                                            class="form-control-plaintext"
                                                                            id="series__season__contentno" value="1">
                                                                    </div>
                                                                </div>
                                                            </div> -->
                                                            <!-- free content name  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__contentname">Content
                                                                            name</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="text"
                                                                            name="series-season-contentname"
                                                                            class="form-control"
                                                                            id="series__season__contentname"
                                                                            placeholder="Enter video name" required />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- free content description  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__contentescription">Content
                                                                            description</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <textarea class="form-control"
                                                                            name="series-season-contentdescription"
                                                                            id="series__season__contentdescription"
                                                                            rows="3" required></textarea>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- free content tags  -->
                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Content
                                                                            tags</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <div class="row">
                                                                            <div class="col-lg-9 col-md-9 col-sm-9">
                                                                                <input type="text" id="c-tag-text"
                                                                                    class="form-control"
                                                                                    placeholder="enter tag" />
                                                                            </div>
                                                                            <div class="col-lg-1 col-md-1 col-sm-1">

                                                                            </div>
                                                                            <div class="col-lg-2 col-md-2 col-sm-2">
                                                                                <button type="button"
                                                                                    class="btn btn-sm btn-primary"
                                                                                    id="c-add-tag">Add tag</button>
                                                                            </div>
                                                                        </div>
                                                                        <div id="c-selected-tags" class="my-3">

                                                                        </div>
                                                                    </div>
                                                                    <!-- <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__contenttags">Episode
                                                                            tags</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <textarea class="form-control"
                                                                            name="series-season-contenttags"
                                                                            id="series__season__contenttags"
                                                                            rows="3"></textarea>
                                                                    </div> -->
                                                                </div>
                                                            </div>
                                                            <!-- free content quality  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Quality</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <select id="content_video_quality"
                                                                            name="content-quality"
                                                                            class="custom-select">
                                                                            <option selected>Quality</option>
                                                                            <option value="144">144p</option>
                                                                            <option value="240">240p</option>
                                                                            <option value="360">360p</option>
                                                                            <option value="480">480p</option>
                                                                            <option value="720">720p</option>
                                                                            <option value="1080">1080p</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- released date  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__contentdate">Content
                                                                            Release Date</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="date" class="form-control"
                                                                            name="series-season-contentdate"
                                                                            id="series__season__contentdate" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- thumbnail  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Upload Thumbnail</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input id="content_file4" type='file'
                                                                            class="form-control" name='content-image'
                                                                            accept='.png, .jpg, .jpeg' required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- upload video  -->
                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Upload Video</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <select id="contentlinkorvideo"
                                                                            name="content-video" class="custom-select">
                                                                            <option value="Video" selected>Video
                                                                            </option>
                                                                            <option value="Link">Link</option>
                                                                        </select>
                                                                        <input type='file' id="content-video"
                                                                            class="form-control my-3"
                                                                            name='content-video'
                                                                            accept='.mp4, .wmv, .avi,.mov,.3gp,.flv'>
                                                                        <input type="url" style="display: none;"
                                                                            id="content-link" class="form-control my-3"
                                                                            name='content-link' placeholder="link">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="text-center">
                                                                <button type="submit" id="content-submit"
                                                                    class="btn btn-primary my-4">Submit</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <button class="btn btn-primary mx-5" type="button"
                                                    data-toggle="collapse" data-target="#seasonVideos"
                                                    aria-expanded="false" aria-controls="seasonVideos">
                                                    Add episodes
                                                </button>
                                                <div class="collapse" id="seasonVideos">
                                                    <div class="card card-body">
                                                        <!-- add season videos -->
                                                        <!-- adding episode form  -->

                                                        <form id="seasonepisodeForm">
                                                            <!-- episode no  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__episodeno">
                                                                            Episode No
                                                                        </label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="text" readonly
                                                                            name="series-season-episodeno"
                                                                            class="form-control-plaintext"
                                                                            id="series__season__episodeno" value="1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- episode name  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__episodename">Episode
                                                                            name</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="text"
                                                                            name="series-season-episodename"
                                                                            class="form-control"
                                                                            id="series__season__episodename"
                                                                            placeholder="Enter video name" required />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- episode description  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__episodedescription">Episode
                                                                            description</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <textarea class="form-control"
                                                                            name="series-season-episodedescription"
                                                                            id="series__season__episodedescription"
                                                                            rows="3" required></textarea>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- episode tags  -->
                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Episode
                                                                            tags</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <div class="row">
                                                                            <div class="col-lg-9 col-md-9 col-sm-9">
                                                                                <input type="text" id="tag-text"
                                                                                    class="form-control"
                                                                                    placeholder="enter tag" />
                                                                            </div>
                                                                            <div class="col-lg-1 col-md-1 col-sm-1">

                                                                            </div>
                                                                            <div class="col-lg-2 col-md-2 col-sm-2">
                                                                                <button type="button"
                                                                                    class="btn btn-sm btn-primary"
                                                                                    id="add-tag">Add tag</button>
                                                                            </div>
                                                                        </div>
                                                                        <div id="selected-tags" class="my-3">

                                                                        </div>
                                                                    </div>
                                                                    <!-- <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__episodetags">Episode
                                                                            tags</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <textarea class="form-control"
                                                                            name="series-season-episodetags"
                                                                            id="series__season__episodetags"
                                                                            rows="3"></textarea>
                                                                    </div> -->
                                                                </div>
                                                            </div>
                                                            <!-- quality  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Quality</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <select id="video_quality" name="quality"
                                                                            class="custom-select">
                                                                            <option selected>Quality</option>
                                                                            <option value="144">144p</option>
                                                                            <option value="240">240p</option>
                                                                            <option value="360">360p</option>
                                                                            <option value="480">480p</option>
                                                                            <option value="720">720p</option>
                                                                            <option value="1080">1080p</option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- released date  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2"
                                                                            for="series__season__episodedate">Episode
                                                                            Release Date</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input type="date" class="form-control"
                                                                            name="series-season-episodedate"
                                                                            id="series__season__episodedate" required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- thumbnail  -->

                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Upload Thumbnail</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <input id="file2" type='file'
                                                                            class="form-control" name='episode-image'
                                                                            accept='.png, .jpg, .jpeg' required>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- upload video  -->
                                                            <div class="form-group my-4">
                                                                <div class="row pado">
                                                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                                                        <label class="mt-2">Upload Video</label>
                                                                    </div>
                                                                    <div class="col-lg-9 col-md-9 col-sm-9">
                                                                        <select id="linkorvideo" name="video"
                                                                            class="custom-select">
                                                                            <option value="Video" selected>Video
                                                                            </option>
                                                                            <option value="Link">Link</option>
                                                                        </select>
                                                                        <input type='file' id="episode-video"
                                                                            class="form-control my-3"
                                                                            name='episode-video'
                                                                            accept='.mp4, .wmv, .avi,.mov,.3gp,.flv'>
                                                                        <input type="url" style="display: none;"
                                                                            id="episode-link" class="form-control my-3"
                                                                            name='episode-link' placeholder="link">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- right navigation  -->

                                                            <div class="text-center">
                                                                <button type="submit" id="episode-submit"
                                                                    class="btn btn-primary my-4">Submit</button>
                                                            </div>
                                                        </form>
                                                    </div>
                                                </div>
                                                <div id="uploaded-free-contents">

                                                </div>
                                                <!-- added episodes section -->
                                                <div id="uploaded_episodes">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- </div> -->
                            <!-- </div> -->
                        </div>
                    </div>
                    <!-- Added movie section  -->
                    <div class="tab-pane fade" id="list-added-movie" role="tabpanel"
                        aria-labelledby="list-added-movie-list">
                        {% include "provider/add-movieform.html" %}
                    </div>
                    <!-- Added series section  -->
                    <div class="tab-pane fade" id="list-added-series" role="tabpanel"
                        aria-labelledby="list-added-series-list">
                        <div class="series__added__form">
                            <div class="list-group flex-md-row" id="list-added-series-tab" role="tablist">
                                <a class="list-group-item list-group-item-action active mx-5 text-center"
                                    id="list-added-seriesform-list" data-toggle="list" href="#list-added-seriesform"
                                    role="tab" aria-controls="list-added-seriesform">Added series</a>
                                <a class="list-group-item list-group-item-action mx-5 text-center"
                                    id="list-added-seriesinfo-list" data-toggle="list" href="#list-added-seriesinfo"
                                    role="tab" aria-controls="list-added-seriesinfo">Added seasons</a>
                                <a class="list-group-item list-group-item-action mx-5 text-center"
                                    id="list-added-seasoninfo-list" data-toggle="list" href="#list-added-seasoninfo"
                                    role="tab" aria-controls="list-added-seasoninfo">Added Episodes</a>
                            </div>
                            <div class="tab-content my-5" id="nav-tabContent">
                                <div class="tab-pane fade show active" id="list-added-seriesform" role="tabpanel"
                                    aria-labelledby="list-added-seriesform-list">
                                    <!-- added series  -->
                                    <div class="adding__series">
                                        <div class="row">
                                            <div id="previously-uploaded-series">

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="list-added-seriesinfo" role="tabpanel"
                                    aria-labelledby="list-added-seriesinfo-list">
                                    {% include "provider/addseasonform.html" %}
                                </div>
                                <div class="tab-pane fade" id="list-added-seasoninfo" role="tabpanel"
                                    aria-labelledby="list-added-seasoninfo-list">
                                    {% include "provider/addepisodeform.html" %}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="list-settings" role="tabpanel" aria-labelledby="list-settings-list">
                        Rejected section
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <nav class="fix">
                    <!-- add-season-right  -->
                    <ul id="season-right">

                    </ul>
                    <!-- add-content-right  -->
                    <ul id="content-right">

                    </ul>
                    <!-- add-episodes-right  -->
                    <ul id="episodes-right">

                    </ul>
                    <!-- added-series-right  -->
                    <ul id="series-right">

                    </ul>
                    <!-- added-season-right  -->
                    <ul id="add-season-right">

                    </ul>
                    <!-- added content  -->
                    <ul id="add-content-right">

                    </ul>
                    <!-- added-episodes-right  -->
                    <ul id="add-episodes-right">

                    </ul>
                    <!-- add-movie-free-content-right  -->
                    <ul id="movie-free-content-right">

                    </ul>
                    <!-- add-movie-video-right  -->
                    <ul id="movie-video-right">

                    </ul>
                    <!-- added-movie-right  -->
                    <ul id="add-movie-right">

                    </ul>
                    <!-- added-movie-free-content-right  -->
                    <ul id="add-movie-free-content-right">

                    </ul>
                    <!-- added-movie-video-right  -->
                    <ul id="add-movie-video-right">

                    </ul>
                </nav>
            </div>
        </div>
    </div>
    <!-- playing videos in modal  -->

    <div class="modal fade" id="video-in-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered vid-pl-modal" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {% include "templates/videoplayer.html" %}
                </div>
            </div>
        </div>
    </div>

    <!-- Edit episodes in modal  -->

    <div class="modal fade" id="edit-in-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="text-center">Edit content</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="edit-content-modal">
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="{% static "/js/jquery-3.5.1.js" %}"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous">
    </script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous">
    </script>
    <script src="{% static "/js/provider.js" %}"></script>
    <script src="{% static "/js/movie.js" %}"></script>
    <script src="{% static "/js/videoplayer.js" %}"></script>

    <!-- to truncate the extra hash in url -->
    <script type="text/javascript">
        if (window.location.hash === "#_=_") {
            history.replaceState ?
                history.replaceState(null, null, window.location.href.split("#")[0]) :
                window.location.hash = "";
        }
    </script>

    <script>
        // JAVASCRIPT CODE FOR ADD CONTENT-->SERIES SECTION START

        // submitting new series form using ajax call
        $("#seriesForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_name = document.getElementById('series_name').value;
            var series_description = document.getElementById('series__description').value;
            var language = document.getElementById('language').value;
            var category = document.getElementById('series-category').value;
            var subcategory = document.getElementById('subcategory__choosen').value;
            var thumbnail_image = $('#file')[0].files[0];

            // javascript data object
            var data = {
                'series_name': series_name,
                'series_description': series_description,
                'language': language,
                'category': category,
                'subcategory': subcategory,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            $('#series-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_series" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#series-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_series_exists != '') {
                        alert(data.is_series_exists);
                    } else if (data.is_language_selected != '') {
                        alert(data.is_language_selected);
                    } else if (data.is_category_selected != '') {
                        alert(data.is_category_selected);
                    } else if (data.is_subcategory_selected != '') {
                        alert(data.is_subcategory_selected);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting series_id for the series created
                        document.getElementById('series_id').innerHTML = data.series_id;

                        // setting season number value
                        $('#seasonvalue').attr("value", 1);
                        alert(data.is_successful);

                        // restricting pointer events for other tabs
                        $('#list-seriesform-list').css('pointer-events', 'none');
                        $('#list-seriesinfo-list').css('pointer-events', 'all');
                        $('#list-seasoninfo-list').css('pointer-events', 'none');
                        $('#list-seriesinfo-list').tab('show');

                        // Emptying right navigation bar that is to be used in this section
                        $('#season-right').empty();

                        set_navigation_bars_display('block', 'none', 'none', 'none', 'none', 'none',
                            'none', 'none', 'none', 'none', 'none', 'none');

                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });



        // submitting new season form using ajax call
        $("#seasonForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_id = document.getElementById('series_id').innerHTML;
            var season_no = document.getElementById('seasonvalue').value;
            var season_description = document.getElementById('series__season__description').value;
            var thumbnail_image = $('#file1')[0].files[0];

            // javascript data object
            var data = {
                'series_id': series_id,
                'season_no': season_no,
                'season_description': season_description,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);

            $('#season-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_season" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#season-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_series_exists != '') {
                        alert(data.is_series_exists);
                    } else if (data.is_season_no_exists != '') {
                        alert(data.is_season_no_exists);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting the number of seasons already added
                        var seasoncount = $('#season-right li').length;
                        seasoncount++;

                        // appending the new season to previously created seasons list
                        for (var key in data.all_season_details) {
                            var htmlgen = '<div class="container my-5" id="season' + key +
                                '"><h4 class="my-4">Season' + seasoncount +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="season' +
                                seasoncount + 'thumbnail" src="' + data.all_season_details[key][1] +
                                '" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="mx-5"><p>' +
                                data.all_season_details[key][0] +
                                '</p><button onclick="add_season_videos(' + series_id + ',' + key +
                                ')" class="btn btn-primary btn-sm">Add season videos</button></div></div></div></div>';
                            $('#apnd').append(htmlgen);
                        }

                        // appending current season to right navigation bar
                        $('#season-right').append('<li><a href="#season' + key +
                            '">season' + seasoncount + '</a></li>');

                        // reset the form
                        $('#seasonForm').each(function () {
                            this.reset();
                        });

                        // toggle season form
                        $('#collapseExample').collapse('toggle');
                        // setting season number value
                        $('#seasonvalue').attr("value", seasoncount + 1);

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting new season episode form using ajax call
        $("#seasonepisodeForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_season_id = document.getElementById('series_season_id').innerHTML;
            var episode_no = document.getElementById('series__season__episodeno').value;
            var episode_name = document.getElementById('series__season__episodename').value;
            var episode_description = document.getElementById('series__season__episodedescription').value;
            var episode_tags = "";
            $('#selected-tags span').each(function () {
                episode_tags += $(this).attr("value");
                episode_tags += ",";
            });
            episode_tags = episode_tags.substring(0, episode_tags.length - 1);

            var episode_quality = document.getElementById('video_quality').value;
            var episode_release_date = document.getElementById('series__season__episodedate').value;
            var episode_linkorvideo = document.getElementById('linkorvideo').value;

            var episode_link = '';
            if (episode_linkorvideo == 'Link') {
                var episode_link = document.getElementById('episode-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#file2')[0].files[0];
            var episode_video = $('#episode-video')[0].files[0];

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
                'episode_no': episode_no,
                'episode_name': episode_name,
                'episode_description': episode_description,
                'episode_tags': episode_tags,
                'episode_quality': episode_quality,
                'episode_release_date': episode_release_date,
                'episode_linkorvideo': episode_linkorvideo,
                'episode_link': episode_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', episode_video);

            $('#episode-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_episode" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#episode-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists);
                    } else if (data.is_episode_no_exists != '') {
                        alert(data.is_episode_no_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {
                        // setting the number of uploaded epiodes for that season of the series
                        var episodecount = $('#episodes-right li').length;
                        episodecount++;

                        // appending the new episode to previously created episodes list
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="episode' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Episode ' + data
                                .season_episode_data[key][6] + '-' + data.season_episode_data[key][
                                    1
                                ] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="episode' +
                                data.season_episode_data[key][6] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][9].length; i++) {
                                htmlgen += data.season_episode_data[key][9][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .season_episode_data[key][8] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#uploaded_episodes').append(htmlgen);

                            // appending current episode to right navigation bar
                            $('#episodes-right').append('<li><a href="#episode' + data
                                .season_episode_data[key][0] + '">episode' + episodecount +
                                '</a></li>');

                        }

                        // reset the form
                        $('#selected-tags').empty();
                        $('#seasonepisodeForm').each(function () {
                            this.reset();
                        });

                        // add season video form toggle
                        $('#seasonVideos').collapse('toggle');
                        // setting the episode number value
                        $('#series__season__episodeno').attr("value", episodecount + 1);

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting new season content form using ajax call
        $("#freecontentForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_season_id = document.getElementById('series_season_id').innerHTML;
            var content_name = document.getElementById('series__season__contentname').value;
            var content_description = document.getElementById('series__season__contentdescription').value;
            var content_tags = "";
            $('#c-selected-tags span').each(function () {
                content_tags += $(this).attr("value");
                content_tags += ",";
            });
            content_tags = content_tags.substring(0, content_tags.length - 1);

            var content_quality = document.getElementById('content_video_quality').value;
            var content_release_date = document.getElementById('series__season__contentdate').value;
            var content_linkorvideo = document.getElementById('contentlinkorvideo').value;

            var content_link = '';
            if (content_linkorvideo == 'Link') {
                var content_link = document.getElementById('content-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#content_file4')[0].files[0];
            var content_video = $('#content-video')[0].files[0];

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
                'content_name': content_name,
                'content_description': content_description,
                'content_tags': content_tags,
                'content_quality': content_quality,
                'content_release_date': content_release_date,
                'content_linkorvideo': content_linkorvideo,
                'content_link': content_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', content_video);

            $('#content-submit').attr('disabled', true);
            console.log(formData);
            $.ajax({
                type: 'POST',
                url: '{% url "add_new_series_content" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#content-submit').attr('disabled', false);

                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {
                        // setting the number of uploaded epiodes for that season of the series
                        var contentcount = $('#content-right li').length;
                        contentcount++;

                        // appending the new episode to previously created episodes list
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' +
                                contentcount + '-' + data.season_episode_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                data.season_episode_data[key][0] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][8].length; i++) {
                                htmlgen += data.season_episode_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .season_episode_data[key][7] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';
                            $('#uploaded-free-contents').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#content-right').append('<li><a href="#content' + data
                                .season_episode_data[key][0] + '">content' + contentcount +
                                '</a></li>');
                        }

                        // reset the form
                        $('#c-selected-tags').empty();
                        $('#freecontentForm').each(function () {
                            this.reset();
                        });

                        // add season video form toggle
                        $('#free-content').collapse('toggle');

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // function to handle the add season videos request
        function add_season_videos(series_id, series_season_id) {
            // setting series season id of current season of the series
            document.getElementById('series_season_id').innerHTML = series_season_id;

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));

            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_episodes" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists);
                    } else if (data.is_series_belongs_to_provider != '') {
                        alert(data.is_series_belongs_to_provider);
                    } else if (data.is_successful != '') {
                        // emptying the already uploaded episodes section and right navigation section
                        $('#uploaded_episodes').empty();
                        $('#uploaded-free-contents').empty();
                        $('#episodes-right').empty();
                        $('#content-right').empty();

                        // appending the previously uploaded episodes
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="episode' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Episode ' + data
                                .season_episode_data[key][6] + '-' + data.season_episode_data[key][
                                    1
                                ] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="episode' +
                                data.season_episode_data[key][6] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][9].length; i++) {
                                htmlgen += data.season_episode_data[key][9][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .season_episode_data[key]
                                [8] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#uploaded_episodes').append(htmlgen);

                            // appending uploaded episodes to right navigation
                            $('#episodes-right').append('<li><a href="#episode' + data
                                .season_episode_data[
                                    key][0] + '">episode' + data.season_episode_data[key][6] +
                                '</a></li>');
                        }

                        var count = 1;
                        // appending the already uploaded free content
                        for (var key in data.season_content_data) {
                            var specialol = `'${data.season_content_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.season_content_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' + count + '-' + data
                                .season_content_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                data.season_content_data[key][0] + 'thumbnail" src="' + data
                                .season_content_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="content mx-3"><p class="text-muted">' +
                                data.season_content_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_content_data[key][8].length; i++) {
                                htmlgen += data.season_content_data[key][8][i] + ' | ';
                            }

                            htmlgen += '<p class="text-muted">Status - ' + data.season_content_data[
                                    key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.season_content_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#uploaded-free-contents').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#content-right').append('<li><a href="#content' + data
                                .season_content_data[key][0] + '">content' + count + '</a></li>');

                            count++;

                        }


                        // reset the form
                        $('#selected-tags').empty();
                        $('#seasonepisodeForm').each(function () {
                            this.reset();
                        });

                        // setting episode number value
                        $('#series__season__episodeno').attr("value", Object.keys(data
                                .season_episode_data)
                            .length + 1);


                        // restricting pointer events for other tabs
                        $('#list-seriesinfo-list').css('pointer-events', 'all');
                        $('#list-seasoninfo-list').css('pointer-events', 'all');
                        $('#list-seasoninfo-list').tab('show');

                        set_navigation_bars_display('none', 'block', 'block', 'none', 'none', 'none',
                            'none', 'none', 'none', 'none', 'none', 'none');

                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        }


        // reset everything and fetch previously uploaded series on clicking on SERIES in ADDED CONTENT SECTION IN LEFT NAVIGATION BAR
        $("#list-added-series-list").on('click', function (e) {

            // restricting pointer events for other tabs
            $('#list-added-seriesform-list').css('pointer-events', 'all');
            $('#list-added-seriesinfo-list').css('pointer-events', 'none');
            $('#list-added-seasoninfo-list').css('pointer-events', 'none');
            $('#list-added-seriesform-list').tab('show');


            //reset seasonForm
            $('#add-seasonForm').each(function () {
                this.reset();
            });

            //reset episodeForm
            $('add-selected-tags').empty();
            $('#add-episodeForm').each(function () {
                this.reset();
            });

            // reset free content form
            $('#e-add-selected-tags').empty();
            $('#add-free-content-form').each(function () {
                this.reset();
            });

            // Emptying previous series details content
            $('#previously-uploaded-series').empty();
            $('#previously-uploaded-seasons').empty();
            $('#previously-uploaded-episodes').empty();
            $('#previously-added-content').empty();


            // Emptying right navigation that is to be used in this section
            $('#series-right').empty();

            set_navigation_bars_display('none', 'none', 'none', 'block', 'none', 'none', 'none', 'none', 'none',
                'none', 'none', 'none');


            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_series" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_any_series_exists != '') {
                        var htmlgen = '<div><p>' + data.is_any_series_exists + '</p></div>';
                        $('#previously-uploaded-series').append(htmlgen);
                    } else if (data.is_successful != '') {

                        // appending the already uploaded series
                        for (var key in data.all_series_data) {
                            var htmlgen = '<div id="' + data.all_series_data[key][0].split(" ")
                                .join("") +
                                '" class="container my-5"><h4 class="my-4">' + data
                                .all_series_data[
                                    key][0] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img src="' +
                                data.all_series_data[key][5] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.all_series_data[key][3] + ' | ';

                            for (var i = 0; i < data.all_series_data[key][6].length; i++) {
                                htmlgen += data.all_series_data[key][6][i] + ' | ';
                            }
                            htmlgen += '</p><p class="text-muted">' + data.all_series_data[key][
                                    2
                                ] +
                                '</p><p class="text-muted">' + data.all_series_data[key][1] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="go_to_seasons(' +
                                key + ')">Go to seasons</button></div></div></div></div>';
                            $('#previously-uploaded-series').append(htmlgen);

                            // appending already uploaded series to right navigation
                            $('#series-right').append('<li><a href="#' + data.all_series_data[
                                    key][0].split(" ").join("") + '">' + data
                                .all_series_data[key][0] + '</a></li>');
                        }
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });

        });



        // function to view seasons in added content section
        function go_to_seasons(series_id) {

            document.getElementById('add_series_id').innerHTML = series_id;

            // emptying the already uploaded seasons section and right navigation section
            $('#previously-uploaded-seasons').empty();
            $('#previously-uploaded-episodes').empty();
            $('#previously-added-content').empty();
            $('#add-season-right').empty();
            $('#add-episodes-right').empty();
            $('#add-content-right').empty();

            //reset seasonForm
            $('#add-seasonForm').each(function () {
                this.reset();
            });

            // not working
            // if ($('#addCollapseExample').is(':visible')) {
            //     $('#addCollapseExample').collapse('toggle');
            // }

            // javascript data object
            var data = {
                'series_id': series_id,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));

            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_seasons" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_series_belongs_to_provider != '') {
                        alert(data.is_series_belongs_to_provider);
                    } else if (data.is_any_series_season_exists != '') {
                        // var htmlgen='<div><p>'+data.is_any_series_season_exists+'</p></div>';
                        // $('#previously-uploaded-seasons').append(htmlgen);
                    } else if (data.is_successful != '') {

                        // appending the already uploaded seasons
                        for (var key in data.all_series_season_data) {
                            var htmlgen = '<div id="season' + key +
                                '" class="container my-5"><h4 class="my-4">Season ' + data
                                .all_series_season_data[key][0] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img src="' +
                                data.all_series_season_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.all_series_season_data[key][1] +
                                '</p><p class="text-muted">Status - ' + data.all_series_season_data[
                                    key][
                                    4
                                ] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="go_to_episodes(' +
                                key + ')">Go to episodes</button></div></div></div></div>';
                            $('#previously-uploaded-seasons').append(htmlgen);

                            // appending the already uploaded seasons to right navigation
                            $('#add-season-right').append('<li><a href="#season' + key + '">season' + data
                                .all_series_season_data[key][0] + '</a></li>');

                        }

                        // restricting pointer events for other tabs
                        $('#list-added-seriesform-list').css('pointer-events', 'all');
                        $('#list-added-seriesinfo-list').css('pointer-events', 'all');
                        $('#list-added-seasoninfo-list').css('pointer-events', 'none');
                        $('#list-added-seriesinfo-list').tab('show');

                        set_navigation_bars_display('none', 'none', 'none', 'none', 'block', 'none', 'none',
                            'none', 'none', 'none', 'none', 'none');

                        // setting season number value
                        $('#add-seasonvalue').attr("value", Object.keys(data.all_series_season_data)
                            .length + 1);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        }


        // function when user wants to see the uploaded episodes in added content section
        function go_to_episodes(series_season_id) {

            document.getElementById('add_series_season_id').innerHTML = series_season_id;

            // emptying the already uploaded episodes section and right navigation section
            $('#previously-uploaded-episodes').empty();
            $('#previously-added-content').empty();
            $('#add-episodes-right').empty();
            $('#add-content-right').empty();

            // reset the episode form
            $('#add-episodeForm').each(function () {
                this.reset();
            });

            // reset free content form
            $('#add-free-content-form').each(function () {
                this.reset();
            });

            // not working
            // console.log($('#add-seasonVideos').is(':visible'))
            // if ($('#add-seasonVideos').is(':visible')) {
            //     $('#add-seasonVideos').collapse('toggle');
            // }

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));

            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_episodes" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists)
                    } else if (data.is_series_belongs_to_provider != '') {
                        alert(data.is_series_belongs_to_provider)
                    } else if (data.is_successful != '') {

                        // appending the already uploaded episodes
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="episode' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Episode ' + data
                                .season_episode_data[key][6] + '-' + data.season_episode_data[key][
                                    1
                                ] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="episode' +
                                data.season_episode_data[key][6] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="content mx-3"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][9].length; i++) {
                                htmlgen += data.season_episode_data[key][9][i] + ' | ';
                            }
                            htmlgen += '<p class="text-muted">Status - ' + data.season_episode_data[
                                    key][8] +
                                '</p><button type="button" class="btn btn-primary"' +
                                'onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';;
                            // my changes
                            if (data.season_episode_data[key][8] == 'Rejected') {

                                htmlgen += '<button type="button" class="btn btn-primary"' +
                                    'onclick="edit(' +
                                    data.season_episode_data[key][6] + ',' + data.season_episode_data[key][
                                        0] + ',' + '4' +
                                    ')" class="btn btn-primary btn-sm">Edit content</button></div></div></div></div>';
                            }
                            //
                            $('#previously-uploaded-episodes').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#add-episodes-right').append('<li><a href="#episode' + data
                                .season_episode_data[key][0] + '">episode' + data
                                .season_episode_data[key][6] + '</a></li>');

                        }

                        var count = 1;
                        // appending the already uploaded free content
                        for (var key in data.season_content_data) {
                            var specialol = `'${data.season_content_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.season_content_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' + count + '-' + data
                                .season_content_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                data.season_content_data[key][0] + 'thumbnail" src="' + data
                                .season_content_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="content mx-3"><p class="text-muted">' +
                                data.season_content_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_content_data[key][8].length; i++) {
                                htmlgen += data.season_content_data[key][8][i] + ' | ';
                            }

                            htmlgen += '<p class="text-muted">Status - ' + data.season_content_data[
                                    key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.season_content_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';
                            // my changes
                            if (data.season_content_data[key][8] == 'Rejected') {

                                htmlgen += '<button type="button" class="btn btn-primary"' +
                                    'onclick="edit(' +
                                    data.season_content_data[key][0] + ',' + count + ',' + '3' +
                                    ')" class="btn btn-primary btn-sm">Edit content</button></div></div></div></div>';
                            }
                            $('#previously-added-content').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#add-content-right').append('<li><a href="#content' + data
                                .season_content_data[key][0] + '">content' + count + '</a></li>');

                            count++;

                        }

                        // restricting pointer events for other tabs
                        $('#list-added-seriesform-list').css('pointer-events', 'all');
                        $('#list-added-seriesinfo-list').css('pointer-events', 'all');
                        $('#list-added-seasoninfo-list').css('pointer-events', 'all');
                        $('#list-added-seasoninfo-list').tab('show');

                        set_navigation_bars_display('none', 'none', 'none', 'none', 'none', 'block',
                            'block', 'none', 'none', 'none', 'none', 'none');

                        // setting the episode number value
                        $('#add__series__season__episodeno').attr("value", Object.keys(data
                            .season_episode_data).length + 1);

                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        }



        // submitting new season form using ajax call
        $("#add-seasonForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_id = document.getElementById('add_series_id').innerHTML;
            var season_no = document.getElementById('add-seasonvalue').value;
            var season_description = document.getElementById('add__series__season__description').value;
            var thumbnail_image = $('#add_file1')[0].files[0];

            // javascript data object
            var data = {
                'series_id': series_id,
                'season_no': season_no,
                'season_description': season_description,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);

            $('#added-season-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_season" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {

                    $('#added-season-submit').attr('disabled', false);

                    // checking and handling error conditions
                    if (data.is_series_exists != '') {
                        alert(data.is_series_exists);
                    } else if (data.is_season_no_exists != '') {
                        alert(data.is_season_no_exists);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting the number of seasons already added
                        var seasoncount = $('#add-season-right li').length;
                        seasoncount++;

                        // appending the new season to previously created seasons list
                        for (var key in data.all_season_details) {
                            var htmlgen = '<div id="season' + key +
                                '" class="container my-5"><h4 class="my-4">Season ' +
                                seasoncount +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img src="' +
                                data.all_season_details[key][1] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.all_season_details[key][0] +
                                '</p><p class="text-muted">Status - ' + data.all_season_details[
                                    key]
                                [2] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="go_to_episodes(' +
                                key + ')">Go to episodes</button></div></div></div></div>';
                            $('#previously-uploaded-seasons').append(htmlgen);

                            // appending the already uploaded seasons to right navigation
                            $('#add-season-right').append('<li><a href="#season' + key +
                                '">season' + seasoncount + '</a></li>');
                        }

                        // reset the form
                        $('#add-seasonForm').each(function () {
                            this.reset();
                        });

                        // toggle season form
                        $('#addCollapseExample').collapse('toggle');
                        // setting season number value
                        $('#add-seasonvalue').attr("value", seasoncount + 1);

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting new season episode form using ajax call
        $("#add-episodeForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_season_id = document.getElementById('add_series_season_id').innerHTML;
            var episode_no = document.getElementById('add__series__season__episodeno').value;
            var episode_name = document.getElementById('add__series__season__episodename').value;
            var episode_description = document.getElementById('add__series__season__episodedescription')
                .value;
            var episode_tags = "";
            $('#add-selected-tags span').each(function () {
                episode_tags += $(this).attr('value');
                episode_tags += ",";
            });
            episode_tags = episode_tags.substring(0, episode_tags.length - 1);
            var episode_quality = document.getElementById('add__video_quality').value;
            var episode_release_date = document.getElementById('add__series__season__episodedate').value;
            var episode_linkorvideo = document.getElementById('add__linkorvideo').value;

            var episode_link = '';
            if (episode_linkorvideo == 'Link') {
                var episode_link = document.getElementById('add__episode-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#add__file2')[0].files[0];
            var episode_video = $('#add__episode-video')[0].files[0];

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
                'episode_no': episode_no,
                'episode_name': episode_name,
                'episode_description': episode_description,
                'episode_tags': episode_tags,
                'episode_quality': episode_quality,
                'episode_release_date': episode_release_date,
                'episode_linkorvideo': episode_linkorvideo,
                'episode_link': episode_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', episode_video);

            $('#added-episode-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_episode" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#added-episode-submit').attr('disabled', false);

                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists);
                    } else if (data.is_episode_no_exists != '') {
                        alert(data.is_episode_no_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {
                        // setting the number of uploaded epiodes for that season of the series
                        var episodecount = $('#add-episodes-right li').length;
                        episodecount++;

                        // appending the new episode to previously created episodes list
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="episode' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Episode ' + data
                                .season_episode_data[key][6] + '-' + data.season_episode_data[
                                    key][
                                    1
                                ] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="episode' +
                                data.season_episode_data[key][6] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][9].length; i++) {
                                htmlgen += data.season_episode_data[key][9][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .season_episode_data[key][8] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';
                            $('#previously-uploaded-episodes').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#add-episodes-right').append('<li><a href="#episode' + data
                                .season_episode_data[key][0] + '">episode' + data
                                .season_episode_data[key][6] + '</a></li>');
                        }

                        // reset the form
                        $('#add-selected-tags').empty();
                        $('#add-episodeForm').each(function () {
                            this.reset();
                        });

                        // add season video form toggle
                        $('#add-seasonVideos').collapse('toggle');
                        // setting the episode number value
                        $('#add__series__season__episodeno').attr("value", episodecount + 1);

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting adding free content form in series in ADDED SECTION using ajax call
        $("#add-free-content-form").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var series_season_id = document.getElementById('add_series_season_id').innerHTML;
            var content_name = document.getElementById('add__series__season__contentname').value;
            var content_description = document.getElementById('add__series__season__contentdescription').value;
            var content_tags = "";
            $('#e-add-selected-tags span').each(function () {
                content_tags += $(this).attr('value')
                content_tags += ',';
            });
            content_tags = content_tags.substring(0, content_tags.length - 1);
            var content_quality = document.getElementById('add__content_quality').value;
            var content_release_date = document.getElementById('add__series__season__contentdate').value;
            var content_linkorvideo = document.getElementById('add__contentlinkorvideo').value;
            var content_link = '';
            if (content_linkorvideo == 'Link') {
                var content_link = document.getElementById('add__content-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#add__file3')[0].files[0];
            var content_video = $('#add__content-video')[0].files[0];

            // javascript data object
            var data = {
                'series_season_id': series_season_id,
                'content_name': content_name,
                'content_description': content_description,
                'content_tags': content_tags,
                'content_quality': content_quality,
                'content_release_date': content_release_date,
                'content_linkorvideo': content_linkorvideo,
                'content_link': content_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', content_video);

            $('#added-content-submit').attr('disabled', true);
            console.log(formData);
            $.ajax({
                type: 'POST',
                url: '{% url "add_new_series_content" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#added-content-submit').attr('disabled', false);

                    // checking and handling error conditions
                    if (data.is_series_season_exists != '') {
                        alert(data.is_series_season_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting the number of uploaded epiodes for that season of the series
                        var contentcount = $('#add-content-right li').length;
                        contentcount++;

                        // appending the new episode to previously created episodes list
                        for (var key in data.season_episode_data) {
                            var specialol = `'${data.season_episode_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.season_episode_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' +
                                contentcount + '-' + data.season_episode_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                data.season_episode_data[key][0] + 'thumbnail" src="' + data
                                .season_episode_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.season_episode_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.season_episode_data[key][8].length; i++) {
                                htmlgen += data.season_episode_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .season_episode_data[key][7] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="play_video(' +
                                data.season_episode_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';
                            $('#previously-added-content').append(htmlgen);

                            // appending the already uploaded episodes to right navigation
                            $('#add-content-right').append('<li><a href="#content' + data
                                .season_episode_data[key][0] + '">content' + contentcount +
                                '</a></li>');
                        }

                        // reset the form
                        $('#e-add-selected-tags').empty();
                        $('#add-free-content-form').each(function () {
                            this.reset();
                        });

                        // add season video form toggle
                        $('#add-free-content').collapse('toggle');
                        // setting the episode number value
                        // $('#add__series__season__contentno').attr("value", contentcount + 1);

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // function to handle play video
        function play_video(video_id, video_url) {
            // Add code to launch modal by getting
            $('#insert-video').attr('src', video_url);
            document.getElementById('video').load();
            $('.progress__filled').css('flex', '0');
            $('#video-in-modal').modal('show');
        }


        // once modal is closed remove the video
        $('#video-in-modal').on('hide.bs.modal', function (e) {
            document.getElementById('video').pause();
        })


        // submitting new movie form using ajax call in ADD SECTION
        $("#movieForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var movie_name = document.getElementById('movie_name').value;
            var movie_description = document.getElementById('movie__description').value;
            var language = document.getElementById('movie__language').value;
            var subcategory = document.getElementById('movie__subcategory__choosen').value;
            var thumbnail_image = $('#movie__file')[0].files[0];

            // javascript data object
            var data = {
                'movie_name': movie_name,
                'movie_description': movie_description,
                'language': language,
                'subcategory': subcategory,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            $('#movie-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_new_movie" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#movie-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists);
                    } else if (data.is_language_selected != '') {
                        alert(data.is_language_selected);
                    } else if (data.is_subcategory_selected != '') {
                        alert(data.is_subcategory_selected);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting movie id for the movie created
                        document.getElementById('movie_id').innerHTML = data.movie_id;

                        // setting free movie content number value
                        $('#movie__contentno').attr("value", 1);
                        alert(data.is_successful);

                        // restricting pointer events for other tabs
                        $('#list-movieform-list').css('pointer-events', 'none');
                        $('#list-movieinfo-list').css('pointer-events', 'all');
                        $('#list-movieinfo-list').tab('show');

                        set_navigation_bars_display('none', 'none', 'none', 'none', 'none', 'none',
                            'none', 'block', 'block', 'none', 'none', 'none');

                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting movie video form using ajax call
        $("#movievideoForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var movie_id = document.getElementById('movie_id').innerHTML;
            var movie_videoname = document.getElementById('movie__videoname').value;
            var movie_videodescription = document.getElementById('movie__videodescription').value;
            var movie_videotags = "";
            $('#m-selected-tags span').each(function () {
                movie_videotags += $(this).attr("value");
                movie_videotags += ",";
            });
            movie_videotags = movie_videotags.substring(0, movie_videotags.length - 1);

            var movie_videoquality = document.getElementById('m-video_quality').value;
            var movie_videorelease_date = document.getElementById('movie__videodate').value;
            var movie_videolinkorvideo = document.getElementById('m-linkorvideo').value;

            var movie_link = '';
            if (movie_videolinkorvideo == 'Link') {
                var movie_link = document.getElementById('movie-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#movie-file2')[0].files[0];
            var movie_video = $('#movie-video')[0].files[0];

            // javascript data object
            var data = {
                'movie_id': movie_id,
                'movie_videoname': movie_videoname,
                'movie_videodescription': movie_videodescription,
                'movie_videotags': movie_videotags,
                'movie_videoquality': movie_videoquality,
                'movie_videorelease_date': movie_videorelease_date,
                'movie_videolinkorvideo': movie_videolinkorvideo,
                'movie_link': movie_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', movie_video);

            $('#movie-video-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_movie_video" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#movie-video-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists);
                    } else if (data.is_movie_video_exists != '') {
                        alert(data.is_movie_video_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // appending the movie video to previously added free content section
                        for (var key in data.movie_video_data) {
                            var specialol = `'${data.movie_video_data[key][4]}'`;
                            var htmlgen = '<div id="movie_video' + data.movie_video_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Movie Video -' + data
                                .movie_video_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="movie_video_thumbnail" src="' +
                                data
                                .movie_video_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.movie_video_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_video_data[key][8].length; i++) {
                                htmlgen += data.movie_video_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .movie_video_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_video_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#uploaded_movie').append(htmlgen);

                            // appending current movie video to right navigation bar
                            $('#movie-video-right').append('<li><a href="#movie_video' + data
                                .movie_video_data[key][0] + '">Movie Video</a></li>');
                        }

                        // reset the form
                        $('#movievideoForm').each(function () {
                            this.reset();
                        });

                        // add movie video form toggle
                        $('#movie-video-form').collapse('toggle');
                        $('#btn_add_movie_video').css('display', 'none');

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // CODE FOR ADD FREE MOVIE CONTENT IN ADD CONTENT SECTION HERE
        // submitting movie free count form from ADDED SECTION using ajax call
        $("#moviefreecontentForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var movie_id = document.getElementById('movie_id').innerHTML;
            var movie_videoname = document.getElementById('movie__contentname').value;
            var movie_videodescription = document.getElementById('movie__contentdescription').value;
            var movie_videotags = "";
            $('#cm-selected-tags span').each(function () {
                movie_videotags += $(this).attr("value");
                movie_videotags += ",";
            });
            movie_videotags = movie_videotags.substring(0, movie_videotags.length - 1);

            var movie_videoquality = document.getElementById('content_movie_quality').value;
            var movie_videorelease_date = document.getElementById('movie__contentdate').value;
            var movie_videolinkorvideo = document.getElementById('moviecontentlinkorvideo').value;

            var movie_link = '';
            if (movie_videolinkorvideo == 'Link') {
                var movie_link = document.getElementById('movie-content-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#movie_file4')[0].files[0];
            var movie_video = $('#movie-content-video')[0].files[0];

            // javascript data object
            var data = {
                'movie_id': movie_id,
                'content_videoname': movie_videoname,
                'content_videodescription': movie_videodescription,
                'content_videotags': movie_videotags,
                'content_videoquality': movie_videoquality,
                'content_videorelease_date': movie_videorelease_date,
                'content_videolinkorvideo': movie_videolinkorvideo,
                'content_link': movie_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', movie_video);

            $('#movie-content-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_movie_free_content" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#movie-content-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting the number of uploaded epiodes for that season of the series
                        var contentcount = $('#movie-free-content-right li').length;
                        contentcount++;

                        // appending the movie video to previously added free content section
                        for (var key in data.movie_video_data) {
                            var specialol = `'${data.movie_video_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.movie_video_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' +
                                contentcount + ' - ' + data.movie_video_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                contentcount + 'thumbnail" src="' + data
                                .movie_video_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.movie_video_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_video_data[key][8].length; i++) {
                                htmlgen += data.movie_video_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .movie_video_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_video_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#m-uploaded-free-contents').append(htmlgen);

                            // appending current movie free content to right navigation bar
                            $('#movie-free-content-right').append('<li><a href="#content' + data
                                .movie_video_data[key][0] + '">content' + contentcount +
                                '</a></li>');
                        }

                        // reset the form
                        $('#moviefreecontentForm').each(function () {
                            this.reset();
                        });

                        // add movie video form toggle
                        $('#movie-free-content').collapse('toggle');

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // reset everything on clicking on MOVIES in ADDED CONTENT SECTION IN LEFT NAVIGATION BAR
        $("#list-added-movie-list").on('click', function (e) {

            // restricting pointer events for other tabs
            $('#list-added-movieform-list').css('pointer-events', 'all');
            $('#list-added-movieinfo-list').css('pointer-events', 'none');
            $('#list-added-movieform-list').tab('show');

            //reset episodeForm
            $('#add-movievideoForm').each(function () {
                this.reset();
            });

            // reset free content form
            $('#add-moviefreecontentForm').each(function () {
                this.reset();
            });

            // Emptying previous movies details content
            $('#previously-uploaded-movie').empty();
            $('#m-add-uploaded-free-contents').empty();
            $('#add-uploaded_movie').empty();


            // Emptying right navigation that is to be used in this section
            $('#add-movie-right').empty();

            set_navigation_bars_display('none', 'none', 'none', 'none', 'none', 'none', 'none', 'none', 'none',
                'block', 'none', 'none');


            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_movies" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_any_movie_exists != '') {
                        var htmlgen = '<div><p>' + data.is_any_movie_exists + '</p></div>';
                        $('#previously-uploaded-movie').append(htmlgen);
                    } else if (data.is_successful != '') {
                        // appending the already uploaded movie
                        for (var key in data.all_movies_data) {
                            var htmlgen = '<div id="movie' + key +
                                '" class="container my-5"><h4 class="my-4">' + data.all_movies_data[
                                    key][0] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img src="' +
                                data.all_movies_data[key][5] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.all_movies_data[key][3] + ' | ';

                            for (var i = 0; i < data.all_movies_data[key][6].length; i++) {
                                htmlgen += data.all_movies_data[key][6][i] + ' | ';
                            }
                            htmlgen += '</p><p class="text-muted">' + data.all_movies_data[key][2] +
                                '</p><p class="text-muted">' + data.all_movies_data[key][1] +
                                '</p><button type="button" class="btn btn-primary btn-sm" onclick="go_to_movie(' +
                                key + ')">Go to movie</button></div></div></div></div>';
                            $('#previously-uploaded-movie').append(htmlgen);

                            // appending already uploaded movie to right navigation
                            $('#add-movie-right').append('<li><a href="#movie' + key + '">' + data
                                .all_movies_data[key][0] + '</a></li>');
                        }
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });

        });



        // function when user wants to see the uploaded movie content in added content section
        function go_to_movie(movie_id) {

            document.getElementById('add_movie_id').innerHTML = movie_id;

            // emptying the already uploaded movie videos section and right navigation section
            $('#m-add-uploaded-free-contents').empty();
            $('#add-uploaded_movie').empty();
            $('#add-movie-video-right').empty();
            $('#add-movie-free-content-right').empty();

            // reset movie free content form in added section
            $('#add-moviefreecontentForm').each(function () {
                this.reset();
            });

            // reset movie video form in added section
            $('#add-movievideoForm').each(function () {
                this.reset();
            });

            // making add movie video button displayable
            $('#btn_add_add_movie_video').css('display', 'block');

            // javascript data object
            var data = {
                'movie_id': movie_id,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));

            $.ajax({
                type: 'POST',
                url: '{% url "previously_uploaded_movie_content" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists)
                    } else if (data.is_movie_belongs_to_provider != '') {
                        alert(data.is_movie_belongs_to_provider)
                    } else if (data.is_successful != '') {
                        // appending the already uploaded episodes
                        for (var key in data.movie_content_data) {
                            var specialol = `'${data.movie_content_data[key][4]}'`;
                            var htmlgen = '<div id="movie_video' + data.movie_content_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Movie video - ' + data
                                .movie_content_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="movie_video_thumbnail" src="' +
                                data
                                .movie_content_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="content mx-3"><p class="text-muted">' +
                                data.movie_content_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_content_data[key][8].length; i++) {
                                htmlgen += data.movie_content_data[key][8][i] + ' | ';
                            }

                            htmlgen += '<p class="text-muted">Status - ' + data.movie_content_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_content_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            //my changes
                            if (data.movie_content_data[key][8] == 'Rejected') {

                                htmlgen += '<button type="button" class="btn btn-primary"' +
                                    'onclick="edit(' +
                                    data.movie_content_data[key][0] + ',' + '1' + ',' + '2' +
                                    ')" class="btn btn-primary btn-sm">Edit content</button></div></div></div></div>';
                            }

                            $('#add-uploaded_movie').append(htmlgen);

                            // appending the already uploaded movie video to right navigation
                            $('#add-movie-video-right').append('<li><a href="#movie_video' + data
                                .movie_content_data[key][0] + '">Movie Video</a></li>');

                        }

                        var count = 1;
                        // appending the already uploaded free movie content
                        for (var key in data.movie_free_data) {
                            var specialol = `'${data.movie_free_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.movie_free_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' + count + ' - ' + data
                                .movie_free_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                data.movie_free_data[key][0] + 'thumbnail" src="' + data
                                .movie_free_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-6 col-md-6 col-sm-6"><div class="content mx-3"><p class="text-muted">' +
                                data.movie_free_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_free_data[key][8].length; i++) {
                                htmlgen += data.movie_free_data[key][8][i] + ' | ';
                            }

                            htmlgen += '<p class="text-muted">Status - ' + data.movie_free_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_free_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';
                            //my changes
                            if (data.movie_free_data[key][8] == 'Rejected') {
                                htmlgen += '<button type="button" class="btn btn-primary"' +
                                    'onclick="edit(' +
                                    data.movie_free_data[key][0] + ',' + count + ',' + '1' +
                                    ')" class="btn btn-primary btn-sm">Edit content</button></div></div></div></div>';
                            }
                            $('#m-add-uploaded-free-contents').append(htmlgen);

                            // appending the already uploaded movie video to right navigation
                            $('#add-movie-free-content-right').append('<li><a href="#content' + data
                                .movie_free_data[key][0] + '">content' + count + '</a></li>');

                            count++;

                        }

                        // setting whether movie video button to be displayed or not
                        if (Object.keys(data.movie_content_data).length > 0) {
                            $('#btn_add_add_movie_video').css('display', 'none');
                        }

                        // restricting pointer events for other tabs
                        $('#list-added-movieform-list').css('pointer-events', 'all');
                        $('#list-added-movieinfo-list').css('pointer-events', 'all');
                        $('#list-added-movieinfo-list').tab('show');

                        set_navigation_bars_display('none', 'none', 'none', 'none', 'none', 'none', 'none',
                            'none', 'none', 'none', 'block', 'block');


                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        }


        // submitting movie video form using ajax call
        $("#add-movievideoForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var movie_id = document.getElementById('add_movie_id').innerHTML;
            var movie_videoname = document.getElementById('add_movie__videoname').value;
            var movie_videodescription = document.getElementById('add_movie__videodescription').value;
            var movie_videotags = "";
            $('#m-add-selected-tags span').each(function () {
                movie_videotags += $(this).attr("value");
                movie_videotags += ",";
            });
            movie_videotags = movie_videotags.substring(0, movie_videotags.length - 1);

            var movie_videoquality = document.getElementById('m-add-video_quality').value;
            var movie_videorelease_date = document.getElementById('add_movie__videodate').value;
            var movie_videolinkorvideo = document.getElementById('m-add-linkorvideo').value;

            var movie_link = '';
            if (movie_videolinkorvideo == 'Link') {
                var movie_link = document.getElementById('movie-add-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#movie-add-file2')[0].files[0];
            var movie_video = $('#movie-add-video')[0].files[0];

            // javascript data object
            var data = {
                'movie_id': movie_id,
                'movie_videoname': movie_videoname,
                'movie_videodescription': movie_videodescription,
                'movie_videotags': movie_videotags,
                'movie_videoquality': movie_videoquality,
                'movie_videorelease_date': movie_videorelease_date,
                'movie_videolinkorvideo': movie_videolinkorvideo,
                'movie_link': movie_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', movie_video);

            $('#movie-add-video-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_movie_video" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#movie-add-video-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists);
                    } else if (data.is_movie_video_exists != '') {
                        alert(data.is_movie_video_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // appending the movie video to previously added free content section
                        for (var key in data.movie_video_data) {
                            var specialol = `'${data.movie_video_data[key][4]}'`;
                            var htmlgen = '<div id="movie_video' + data.movie_video_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Movie Video -' + data
                                .movie_video_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-8 col-md-8"><img id="movie_video_thumbnail" src="' +
                                data
                                .movie_video_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.movie_video_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_video_data[key][8].length; i++) {
                                htmlgen += data.movie_video_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .movie_video_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_video_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#add-uploaded_movie').append(htmlgen);

                            // appending current movie video to right navigation bar
                            $('#add-movie-video-right').append('<li><a href="#movie_video' + data
                                .movie_video_data[key][0] + '">Movie Video</a></li>');
                        }

                        // reset the form
                        $('#add-movievideoForm').each(function () {
                            this.reset();
                        });

                        // add movie video form toggle
                        $('#movie-add-video-form').collapse('toggle');
                        $('#btn_add_add_movie_video').css('display', 'none');

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });


        // submitting movie free count form from ADDED SECTION using ajax call
        $("#add-moviefreecontentForm").submit(function (e) {
            e.preventDefault(); //prevent default action

            // Extracting Form Data
            var movie_id = document.getElementById('add_movie_id').innerHTML;
            var movie_videoname = document.getElementById('add_movie__contentname').value;
            var movie_videodescription = document.getElementById('add_movie__contentdescription').value;
            var movie_videotags = "";
            $('#cm-add-selected-tags span').each(function () {
                movie_videotags += $(this).attr("value");
                movie_videotags += ",";
            });
            movie_videotags = movie_videotags.substring(0, movie_videotags.length - 1);

            var movie_videoquality = document.getElementById('add-content_movie_quality').value;
            var movie_videorelease_date = document.getElementById('add_movie__contentdate').value;
            var movie_videolinkorvideo = document.getElementById('movieaddcontentlinkorvideo').value;

            var movie_link = '';
            if (movie_videolinkorvideo == 'Link') {
                var movie_link = document.getElementById('movie-add-content-link').value;
            }

            // Files from episode form
            var thumbnail_image = $('#movie_add_file4')[0].files[0];
            var movie_video = $('#movie-add-content-video')[0].files[0];

            // javascript data object
            var data = {
                'movie_id': movie_id,
                'content_videoname': movie_videoname,
                'content_videodescription': movie_videodescription,
                'content_videotags': movie_videotags,
                'content_videoquality': movie_videoquality,
                'content_videorelease_date': movie_videorelease_date,
                'content_videolinkorvideo': movie_videolinkorvideo,
                'content_link': movie_link,
            }

            // adding data to javascript form which is to be send over ajax request
            var formData = new FormData();
            formData.append('data', JSON.stringify(data));
            formData.append('file', thumbnail_image, thumbnail_image.name);
            formData.append('video', movie_video);

            $('#movie-add-content-submit').attr('disabled', true);

            $.ajax({
                type: 'POST',
                url: '{% url "add_movie_free_content" %}',
                data: formData,
                dataType: 'json',
                enctype: 'multipart/form-data',
                processData: false,
                contentType: false,
                success: function (data) {
                    $('#movie-add-content-submit').attr('disabled', false);
                    // checking and handling error conditions
                    if (data.is_movie_exists != '') {
                        alert(data.is_movie_exists);
                    } else if (data.is_quality_selected != '') {
                        alert(data.is_quality_selected);
                    } else if (data.is_release_date_future != '') {
                        alert(data.is_release_date_future);
                    } else if (data.is_thumbnail_too_large != '') {
                        alert(data.is_thumbnail_too_large);
                    } else if (data.is_thumbnail_mimetype_problem != '') {
                        alert(data.is_thumbnail_mimetype_problem);
                    } else if (data.is_video_mimetype_problem != '') {
                        alert(data.is_video_mimetype_problem);
                    } else if (data.is_successful != '') {

                        // setting the number of uploaded epiodes for that season of the series
                        var contentcount = $('#add-movie-free-content-right li').length;
                        contentcount++;

                        // appending the movie video to previously added free content section
                        for (var key in data.movie_video_data) {
                            var specialol = `'${data.movie_video_data[key][4]}'`;
                            var htmlgen = '<div id="content' + data.movie_video_data[key][0] +
                                '" class="container my-5"><h4 class="my-4">Content ' +
                                contentcount + ' - ' + data.movie_video_data[key][1] +
                                '</h4><div class="row"><div class="col-lg-6 col-md-6 col-sm-6"><img id="content' +
                                contentcount + 'thumbnail" src="' + data
                                .movie_video_data[key][3] +
                                '" alt="uploading" class="img-fluid"></div><div class="col-lg-4 col-md-4"><div class="content mx-5"><p class="text-muted">' +
                                data.movie_video_data[key][2] + '</p><p class="text-muted">';

                            for (var i = 0; i < data.movie_video_data[key][8].length; i++) {
                                htmlgen += data.movie_video_data[key][8][i] + ' | ';
                            }

                            htmlgen += '</p><p class="text-muted">Status - ' + data
                                .movie_video_data[key][7] +
                                '</p><button type="button" class="btn btn-primary" onclick="play_video(' +
                                data.movie_video_data[key][0] + ',' + specialol +
                                ')" class="btn btn-primary btn-sm">Play video</button></div></div></div></div>';

                            $('#m-add-uploaded-free-contents').append(htmlgen);

                            // appending current movie free content to right navigation bar
                            $('#add-movie-free-content-right').append('<li><a href="#content' + data
                                .movie_video_data[key][0] + '">content' + contentcount +
                                '</a></li>');
                        }

                        // reset the form
                        $('#add-moviefreecontentForm').each(function () {
                            this.reset();
                        });

                        // add movie video form toggle
                        $('#movie-add-free-content').collapse('toggle');

                        alert(data.is_successful);
                    } else {
                        alert('Some unexpected error has occured. Try again.');
                    }
                }
            });
        });
        //my changes
        // function to handle play video
        function edit(globalId, localId, formtype) {
            // Add code to launch modal
            if (formtype == '1') {
                //add-moviefreecontentForm
                $('#edit-content-modal').html('<form id="edit-add-moviefreecontentForm"></form>');
                $('#edit-add-moviefreecontentForm').html($('#add-moviefreecontentForm').html());
                $('#add-moviefreecontentForm').html('');
                // var val = $('#add__series__season__episodeno').attr('value');
                $('#edit-content-modal').append('<p hidden value="1" id="' + localId + '"></p>');
                // $('#add__series__season__episodeno').attr('value', localId);
                add_m_c_in_add()
            } else if (formtype == '2') {
                //add-movievideoForm
                $('#edit-content-modal').html('<form id="edit-add-movievideoForm"></form>');
                $('#edit-add-movievideoForm').html($('#add-movievideoForm').html());
                $('#add-movievideoForm').html('');
                // var val = $('#add__series__season__episodeno').attr('value');
                $('#edit-content-modal').append('<p hidden value="2" id="' + localId + '"></p>');
                // $('#add__series__season__episodeno').attr('value', localId);
                add_m_in_add();
            } else if (formtype == '3') {
                // add-free-content-form
                $('#edit-content-modal').html('<form id="edit-add-free-content-form"></form>');
                $('#edit-add-free-content-form').html($('#add-free-content-form').html());
                $('#add-free-content-form').html('');
                // var val=$('#add__series__season__episodeno').attr('value');
                $('#edit-content-modal').append('<p hidden value="3" id="' + localId + '"></p>');
                // $('#add__series__season__episodeno').attr('value',data);
                add_tag_c_added();
            } else {
                // add-episodeForm
                $('#edit-content-modal').html('<form id="edit-add-episodeForm"></form>');
                $('#edit-add-episodeForm').html($('#add-episodeForm').html());
                $('#add-episodeForm').html('');
                var val = $('#add__series__season__episodeno').attr('value');
                $('#edit-content-modal').append('<p hidden value="4" id="' + val + '"></p>');
                $('#add__series__season__episodeno').attr('value', localId);
                add_tag_in_added();
            }
            $('#edit-in-modal').modal('show');
        }
        // once modal is closed remove the video
        $('#edit-in-modal').on('hide.bs.modal', function (e) {
            var formtype = $('#edit-content-modal p').attr('value');
            var prevval = $('#edit-content-modal p').attr('id');
            console.log(formtype);
            if (formtype == '1') {
                //add-moviefreecontentForm
                $('#add-moviefreecontentForm').html($('#edit-add-moviefreecontentForm').html());
                add_m_c_in_add()
            } else if (formtype == '2') {
                // add-movievideoForm
                $('#add-movievideoForm').html($('#edit-add-movievideoForm').html());
                add_m_in_add();
            } else if (formtype == '3') {
                // add-free-content-form
                $('#add-free-content-form').html($('#add-free-content-form').html());
                add_tag_in_added();
            } else {
                // add-episodeForm
                $('#add__series__season__episodeno').attr('value', prevval);
                $('#add-episodeForm').html($('#edit-add-episodeForm').html());
                add_tag_in_added();
            }
            $('#edit-content-modal').html('');
        })
    </script>
</body>

</html>



<!-- steps 1.addedformcontent and addedformepisode -->